{"filename":"odb_mhw_openapi.yml","file_hash":"3ee6aefb7c71e07a24292fadf58b842e2900176b3735d287afc9c5282356cb46","doc_summary":"OpenAPI Specification: odb_mhw_openapi.yml","text_chunks":[{"chunk_id":0,"source_page":1,"content_type":"metadata","text":"source_file: https://api.odb.ntu.edu.tw/hub/swagger?node=odb_mhw_v1\ndataset_name: marineheatwave\ncollection: mhw\ndoc_type: api_spec\ndoc_id: \"d971ef8bbc81997eae74ee0e555588a6526b0ea1\"\ntitle: ODB MHW API (OpenAPI Spec)\nlang: en\ndescription: Marine heatwaves OpenAPI specification (ODB)\ntags: [MHW, 程式, SST, \"SST anomalies\", \"Thermal Displacement\", ODB, OpenAPI, \"Marine Heatwaves (MHW)\", 全球海洋熱浪, spec, 資料]\ngrid: 0.25\ntimescale: monthly\nrelated_to:\n  - doc_id: [\"b7cea35aac3358af2e52d9f9079779bfdda0fee7\"]\n  - collection: \"mhw\"\npurpose: \"提供ODB MHW API OpenAPI specification (OAS)以規格說明 ODB MHW API 如何使用\"\nfaq: [\"如何使用 ODB MHW API?\", \"如何取得全球海洋熱浪資料?\", \"Call ODB MHW API endpoint to get timeseries data\", \"畫海溫趨勢變化\"]\ncontent: |\n  # Usage Note\n  '''\n    本文件提供 ODB MHW API (海洋熱浪開放應用程式介面) 的使用說明與規格 (Open API specification, OAS; Swagger documentation)，\n    回答如何以程式或瀏覽器調用全球海洋熱浪資料或以程式畫出海溫變化趨勢，或如何使用ODB MHW API問題(列於faq)時應優先引用。\n    以下API規格書以 OpenAPI 3.1 https://swagger.io/specification/ 標準描述，格式為YAML。包含詳細的API端點、參數、規格、與回應之描述。\n    This document provides the usage guide and specifications for the ODB MHW API (Application Programming Interface), \n    serving as the primary reference for programmatic or browser-based access to global MHW data (listed in faq).\n    The API specification follows the OpenAPI 3.1 standard (https://swagger.io/specification/), in YAML format, \n    with detailed descriptions of endpoints, parameters, specifications, and responses.\n  '''\n  \n  # Remark\n  \n  '''   \n    ODB MHW API完整地定義在OAS(規格書)中，包括lon0, lat0, lon1, lat1, start, end, append等參數請參考。其中lon0, lat0為必要參數(required)。在此僅舉例說明其中一個參數`append`的意義，於規格書中列舉：\n      name: append\n      description:\n        Data fields to append, separated by commas. Allowed fields: 'sst', 'sst_anomaly', 'level', 'td'\n    說明了append這個參數，可以附加想要的資料變數(data fields)進去，而允許(allowed)的data fields則包括了\n    'sst', 'sst_anomaly', 'level', 'td'\n    這些資料變數儲存在 Zarr 資料集，而ODB MHW API去調用這個資料集，請參考doc_id: b7cea35aac3358af2e52d9f9079779bfdda0fee7\n    這4個資料變數分別對應 \n      * sst: 海水表面溫度 (SST) \n      * sst_anomaly: 海表溫距平值(異常值; SST anomalies)\n      * level: 海洋熱浪等級\n      * td: 海洋熱浪引起的熱位移(Thermal Displacement)\n    append 賦值的方式是用逗號(comma)分隔，比如'sst,sst_anomaly'，即是要求API要調用2個資料變數 sst 與 sst_anomaly，\n    如果只想調用海洋熱浪等級，便使用 append: 'level' (或在HTTP GET方法中query parameter加入 `&append=level`)，也因此，\n    append 給值的不同，會改變API調用哪些資料變數，因而也影響輸出的JSON欄位，比如\n    append: 'sst' 得到的JSON response裡面的 陣列元素(element)為\n    {\n      \"lon\": 135.125,\n      \"lat\": 15.125,\n      \"date\": \"2024-12-01\",\n      \"sst\": 29.0103206634522\n    },\n    但 append: 'sst,level' (額外調用了 SST 與海洋熱浪等級)，輸出的JSON response裡的陣列元素為\n    {\n      \"lon\": 135.125,\n      \"lat\": 15.125,\n      \"date\": \"2024-12-01\",\n      \"level\": 1,\n      \"sst\": 29.0103206634522\n    }\n    可以看到輸出多了\"level\": 1 這組key-value\n    參數補註：\n      * append 參數default值為'level'. 如果你在程式或瀏覽器不指定append參數，ODB MHW API會預設回傳海洋熱浪等級。\n      * 由於ODB MHW API使用HTTP GET method，因此很方便直接在瀏覽器中輸入server URL加上query parameters即可調用資料，\n        比如以剛才輸出 SST 與海洋熱浪等級為例，瀏覽器中輸入\n        https://eco.odb.ntu.edu.tw/api/mhw?lon0=135&lon1=150&lat0=15&lat1=30&start=2024-12-01&end=2025-06-01&append=sst,level\n        即可得到所需資料，非常方便。\n      * Minimum date for ODB MHW API is 1982-01-01, i.e. 'start' 參數的最小值（MHW資料最早的時間）為1982-01-01。\n    Note for Response format: ODB MHW API輸出的時間參數是'date', 若需要對時間畫圖，x-axis須選擇'date'.\n      * ODB MHW API output response format contains 'lon', 'lat', 'date' \n        (for spatial coordinates and temporal information), \n        and other data variable fields which determined by `append` parameter. \n\n    Note for CSV table data download request:\n      * 如果需要直接下載CSV資料使用 /api/mhw/csv endpoint. Example: \n        https://eco.odb.ntu.edu.tw/api/mhw/csv?lon0=135&lon1=150&lat0=15&lat1=30&start=2024-12-01&end=2025-06-01&append=sst,level\n         \n  '''","metadata":{"source_file":"https://api.odb.ntu.edu.tw/hub/swagger?node=odb_mhw_v1","dataset_name":"marineheatwave","collection":"mhw","doc_type":"api_spec","doc_id":"d971ef8bbc81997eae74ee0e555588a6526b0ea1","title":"ODB MHW API (OpenAPI Spec)","lang":"en","description":"Marine heatwaves OpenAPI specification (ODB)","tags":["MHW","程式","SST","SST anomalies","Thermal Displacement","ODB","OpenAPI","Marine Heatwaves (MHW)","全球海洋熱浪","spec","資料"],"grid":0.25,"timescale":"monthly","related_to":[{"doc_id":["b7cea35aac3358af2e52d9f9079779bfdda0fee7"]},{"collection":"mhw"}],"purpose":"提供ODB MHW API OpenAPI specification (OAS)以規格說明 ODB MHW API 如何使用","faq":["如何使用 ODB MHW API?","如何取得全球海洋熱浪資料?","Call ODB MHW API endpoint to get timeseries data","畫海溫趨勢變化"],"content":"# Usage Note\n'''\n  本文件提供 ODB MHW API (海洋熱浪開放應用程式介面) 的使用說明與規格 (Open API specification, OAS; Swagger documentation)，\n  回答如何以程式或瀏覽器調用全球海洋熱浪資料或以程式畫出海溫變化趨勢，或如何使用ODB MHW API問題(列於faq)時應優先引用。\n  以下API規格書以 OpenAPI 3.1 https://swagger.io/specification/ 標準描述，格式為YAML。包含詳細的API端點、參數、規格、與回應之描述。\n  This document provides the usage guide and specifications for the ODB MHW API (Application Programming Interface), \n  serving as the primary reference for programmatic or browser-based access to global MHW data (listed in faq).\n  The API specification follows the OpenAPI 3.1 standard (https://swagger.io/specification/), in YAML format, \n  with detailed descriptions of endpoints, parameters, specifications, and responses.\n'''\n\n# Remark\n\n'''   \n  ODB MHW API完整地定義在OAS(規格書)中，包括lon0, lat0, lon1, lat1, start, end, append等參數請參考。其中lon0, lat0為必要參數(required)。在此僅舉例說明其中一個參數`append`的意義，於規格書中列舉：\n    name: append\n    description:\n      Data fields to append, separated by commas. Allowed fields: 'sst', 'sst_anomaly', 'level', 'td'\n  說明了append這個參數，可以附加想要的資料變數(data fields)進去，而允許(allowed)的data fields則包括了\n  'sst', 'sst_anomaly', 'level', 'td'\n  這些資料變數儲存在 Zarr 資料集，而ODB MHW API去調用這個資料集，請參考doc_id: b7cea35aac3358af2e52d9f9079779bfdda0fee7\n  這4個資料變數分別對應 \n    * sst: 海水表面溫度 (SST) \n    * sst_anomaly: 海表溫距平值(異常值; SST anomalies)\n    * level: 海洋熱浪等級\n    * td: 海洋熱浪引起的熱位移(Thermal Displacement)\n  append 賦值的方式是用逗號(comma)分隔，比如'sst,sst_anomaly'，即是要求API要調用2個資料變數 sst 與 sst_anomaly，\n  如果只想調用海洋熱浪等級，便使用 append: 'level' (或在HTTP GET方法中query parameter加入 `&append=level`)，也因此，\n  append 給值的不同，會改變API調用哪些資料變數，因而也影響輸出的JSON欄位，比如\n  append: 'sst' 得到的JSON response裡面的 陣列元素(element)為\n  {\n    \"lon\": 135.125,\n    \"lat\": 15.125,\n    \"date\": \"2024-12-01\",\n    \"sst\": 29.0103206634522\n  },\n  但 append: 'sst,level' (額外調用了 SST 與海洋熱浪等級)，輸出的JSON response裡的陣列元素為\n  {\n    \"lon\": 135.125,\n    \"lat\": 15.125,\n    \"date\": \"2024-12-01\",\n    \"level\": 1,\n    \"sst\": 29.0103206634522\n  }\n  可以看到輸出多了\"level\": 1 這組key-value\n  參數補註：\n    * append 參數default值為'level'. 如果你在程式或瀏覽器不指定append參數，ODB MHW API會預設回傳海洋熱浪等級。\n    * 由於ODB MHW API使用HTTP GET method，因此很方便直接在瀏覽器中輸入server URL加上query parameters即可調用資料，\n      比如以剛才輸出 SST 與海洋熱浪等級為例，瀏覽器中輸入\n      https://eco.odb.ntu.edu.tw/api/mhw?lon0=135&lon1=150&lat0=15&lat1=30&start=2024-12-01&end=2025-06-01&append=sst,level\n      即可得到所需資料，非常方便。\n    * Minimum date for ODB MHW API is 1982-01-01, i.e. 'start' 參數的最小值（MHW資料最早的時間）為1982-01-01。\n  Note for Response format: ODB MHW API輸出的時間參數是'date', 若需要對時間畫圖，x-axis須選擇'date'.\n    * ODB MHW API output response format contains 'lon', 'lat', 'date' \n      (for spatial coordinates and temporal information), \n      and other data variable fields which determined by `append` parameter. \n\n  Note for CSV table data download request:\n    * 如果需要直接下載CSV資料使用 /api/mhw/csv endpoint. Example: \n      https://eco.odb.ntu.edu.tw/api/mhw/csv?lon0=135&lon1=150&lat0=15&lat1=30&start=2024-12-01&end=2025-06-01&append=sst,level\n       \n'''"}}],"artifacts":[{"id":"api_get_api_mhw","source_file":"bak/temp_uploads/odb_mhw_openapi.yml","artifact_type":"api_endpoint","metadata":{"doc_type":"api_spec","dataset_name":"marineheatwave","title":"ODB MHW API (OpenAPI Spec)","lang":"en","collection":"mhw","tags":["MHW","程式","SST","SST anomalies","Thermal Displacement","ODB","OpenAPI","Marine Heatwaves (MHW)","全球海洋熱浪","spec","資料"]},"links":[],"tags":["MHW","程式","SST","SST anomalies","Thermal Displacement","ODB","OpenAPI","Marine Heatwaves (MHW)","全球海洋熱浪","spec","資料"],"path":"/api/mhw","method":"GET","summary":"Query MHW data as JSON","description":"Query MHW data by longitude/latitude/date (in JSON), providing monthly marine heatwave levels, sea surface temperature (SST), SST anomalies, and thermal displacements at a 0.25° x 0.25° global resolution. See more: https://eco.odb.ntu.edu.tw/pub/MHW\n\n#### Usage\n* One-point MHWs without time-span limitation: e.g. /api/mhw?lon0=135&lat0=15\n* Bounding-box <= 10 x 10 in degrees: 10-years time-span limitation: e.g. /api/mhw?lon0=135&lon1=140&lat0=15&lat1=30&start=2013-01-01 (data from 2013/01/01 to 2022/12/01)\n* Bounding-box > 10 x 10 in degrees: 1-year time-span limitation: e.g. /api/mhw?lon0=135&lon1=150&lat0=15&lat1=30&start=2013-01-01 (data from 2013/01/01 to 2013/12/01)\n* Bounding-box > 90 x 90 in degrees: 1-month time-span limitation: e.g. /api/mhw?lon0=-180&lon1=180&lat0=-90&lat1=90&start=2013-01-01 (data of 2013/01/01)","parameters":[{"name":"lon0","in":"query","required":true,"schema":{"type":"number","description":"Minimum longitude, range: [-180, 180]","title":"Lon0"},"description":"Minimum longitude, range: [-180, 180]"},{"name":"lat0","in":"query","required":true,"schema":{"type":"number","description":"Minimum latitude, range: [-90, 90]","title":"Lat0"},"description":"Minimum latitude, range: [-90, 90]"},{"name":"lon1","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Maximum longitude, range: [-180, 180]","title":"Lon1"},"description":"Maximum longitude, range: [-180, 180]"},{"name":"lat1","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Maximum latitude, range: [-90, 90]","title":"Lat1"},"description":"Maximum latitude, range: [-90, 90]"},{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Start date of MHWs to query, minimum is 1982-01-01","title":"Start"},"description":"Start date of MHWs to query, minimum is 1982-01-01"},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"End date of MHWs to query, maximum is one month before the current date","title":"End"},"description":"End date of MHWs to query, maximum is one month before the current date"},{"name":"append","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Data fields to append, separated by commas. Allowed fields: 'sst', 'sst_anomaly', 'level', 'td'","title":"Append"},"description":"Data fields to append, separated by commas. Allowed fields: 'sst', 'sst_anomaly', 'level', 'td'"}],"usage_example":"### Summary\nThis API endpoint retrieves MHW (Marine Heatwave) data as JSON. It provides monthly marine heatwave levels, sea surface temperature (SST), SST anomalies, and thermal displacements at a 0.25° x 0.25° global resolution.\n\n### Python Example\n\n```python\nimport requests\n\n# Set API endpoint URL\nurl = \"https://eco.odb.ntu.edu.tw/api/mhw\"\n\n# Define parameters\nparams = {\n    'lon0': 135,  # Minimum longitude\n    'lat0': 15,   # Minimum latitude\n    'lon1': 140,  # Maximum longitude (optional)\n    'lat1': 30,   # Maximum latitude (optional)\n    'start': '2013-01-01',  # Start date of MHWs to query\n}\n\n# Send GET request with parameters\nresponse = requests.get(url, params=params)\n\n# Check if response was successful\nif response.status_code == 200:\n    # Print JSON response\n    print(response.json())\nelse:\n    print(f\"Error: {response.status_code}\")\n```\n\nThis example retrieves MHW data for a bounding box defined by the minimum and maximum longitude and latitude values. The `start` parameter specifies the start date of the query, which in this case is January 1st, 2013. You can modify the parameters to suit your needs."},{"id":"api_get_api_mhw_csv","source_file":"bak/temp_uploads/odb_mhw_openapi.yml","artifact_type":"api_endpoint","metadata":{"doc_type":"api_spec","dataset_name":"marineheatwave","title":"ODB MHW API (OpenAPI Spec)","lang":"en","collection":"mhw","tags":["MHW","程式","SST","SST anomalies","Thermal Displacement","ODB","OpenAPI","Marine Heatwaves (MHW)","全球海洋熱浪","spec","資料"]},"links":[],"tags":["MHW","程式","SST","SST anomalies","Thermal Displacement","ODB","OpenAPI","Marine Heatwaves (MHW)","全球海洋熱浪","spec","資料"],"path":"/api/mhw/csv","method":"GET","summary":"Query MHW data as CSV","description":"Query MHW data by longitude/latitude/date (in csv), providing monthly marine heatwave levels, sea surface temperature (SST), SST anomalies, and thermal displacements at a 0.25° x 0.25° global resolution. See more: https://eco.odb.ntu.edu.tw/pub/MHW\n\n#### Usage\n* One-point MHWs without time-span limitation: e.g. /api/mhw/csv?lon0=135&lat0=15\n* Bounding-box <= 10 x 10 in degrees: 10-years time-span limitation: e.g. /api/mhw/csv?lon0=135&lon1=140&lat0=15&lat1=30&start=2013-01-01 (data from 2013/01/01 to 2022/12/01)\n* Bounding-box > 10 x 10 in degrees: 1-year time-span limitation: e.g. /api/mhw/csv?lon0=135&lon1=150&lat0=15&lat1=30&start=2013-01-01 (data from 2013/01/01 to 2013/12/01)\n* Bounding-box > 90 x 90 in degrees: 1-month time-span limitation: e.g. /api/mhw/csv?lon0=-180&lon1=180&lat0=-90&lat1=90&start=2013-01-01 (data of 2013/01/01)","parameters":[{"name":"lon0","in":"query","required":true,"schema":{"type":"number","description":"Minimum longitude, range: [-180, 180]","title":"Lon0"},"description":"Minimum longitude, range: [-180, 180]"},{"name":"lat0","in":"query","required":true,"schema":{"type":"number","description":"Minimum latitude, range: [-90, 90]","title":"Lat0"},"description":"Minimum latitude, range: [-90, 90]"},{"name":"lon1","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Maximum longitude, range: [-180, 180]","title":"Lon1"},"description":"Maximum longitude, range: [-180, 180]"},{"name":"lat1","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Maximum latitude, range: [-90, 90]","title":"Lat1"},"description":"Maximum latitude, range: [-90, 90]"},{"name":"start","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Start date of MHWs to query, minimum is 1982-01-01","title":"Start"},"description":"Start date of MHWs to query, minimum is 1982-01-01"},{"name":"end","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"End date of MHWs to query, maximum is one month before the current date","title":"End"},"description":"End date of MHWs to query, maximum is one month before the current date"},{"name":"append","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Data fields to append, separated by commas. Allowed fields: 'sst', 'sst_anomaly', 'level', 'td'","title":"Append"},"description":"Data fields to append, separated by commas. Allowed fields: 'sst', 'sst_anomaly', 'level', 'td'"}],"usage_example":"### Summary\nThis API endpoint allows you to query MHW (Marine Heatwave) data as CSV. You can specify a single point or a bounding box with latitude and longitude coordinates, along with an optional start and end date for the time period of interest. The response will include monthly marine heatwave levels, sea surface temperature (SST), SST anomalies, and thermal displacements at a 0.25° x 0.25° global resolution.\n\n### Python Example\n```python\nimport requests\n\n# Define API endpoint URL\nurl = \"https://eco.odb.ntu.edu.tw/api/mhw/csv\"\n\n# Specify parameters for a bounding box with start date\nparams = {\n    \"lon0\": 135,\n    \"lat0\": 15,\n    \"lon1\": 140,\n    \"lat1\": 30,\n    \"start\": \"2013-01-01\"\n}\n\n# Send GET request to API endpoint\nresponse = requests.get(url, params=params)\n\n# Check if response was successful\nif response.status_code == 200:\n    # Save CSV data to a file\n    with open(\"mhw_data.csv\", \"w\") as f:\n        f.write(response.text)\nelse:\n    print(f\"Error: {response.status_code}\")\n```\nThis example queries MHW data for a bounding box with coordinates (135° E, 15° N) to (140° E, 30° N), starting from January 1st, 2013. The response is saved as a CSV file named `mhw_data.csv`."},{"id":"text_8dcd132d69177b0e5b54f04075d6a81264ecba95","source_file":"bak/temp_uploads/odb_mhw_openapi.yml","artifact_type":"text_chunk","metadata":{"source_file":"https://api.odb.ntu.edu.tw/hub/swagger?node=odb_mhw_v1","dataset_name":"marineheatwave","collection":"mhw","doc_type":"api_spec","doc_id":"d971ef8bbc81997eae74ee0e555588a6526b0ea1","title":"ODB MHW API (OpenAPI Spec)","lang":"en","description":"Marine heatwaves OpenAPI specification (ODB)","tags":["MHW","程式","SST","SST anomalies","Thermal Displacement","ODB","OpenAPI","Marine Heatwaves (MHW)","全球海洋熱浪","spec","資料"],"grid":0.25,"timescale":"monthly","related_to":[{"doc_id":["b7cea35aac3358af2e52d9f9079779bfdda0fee7"]},{"collection":"mhw"}],"purpose":"提供ODB MHW API OpenAPI specification (OAS)以規格說明 ODB MHW API 如何使用","faq":["如何使用 ODB MHW API?","如何取得全球海洋熱浪資料?","Call ODB MHW API endpoint to get timeseries data","畫海溫趨勢變化"],"content":"# Usage Note\n'''\n  本文件提供 ODB MHW API (海洋熱浪開放應用程式介面) 的使用說明與規格 (Open API specification, OAS; Swagger documentation)，\n  回答如何以程式或瀏覽器調用全球海洋熱浪資料或以程式畫出海溫變化趨勢，或如何使用ODB MHW API問題(列於faq)時應優先引用。\n  以下API規格書以 OpenAPI 3.1 https://swagger.io/specification/ 標準描述，格式為YAML。包含詳細的API端點、參數、規格、與回應之描述。\n  This document provides the usage guide and specifications for the ODB MHW API (Application Programming Interface), \n  serving as the primary reference for programmatic or browser-based access to global MHW data (listed in faq).\n  The API specification follows the OpenAPI 3.1 standard (https://swagger.io/specification/), in YAML format, \n  with detailed descriptions of endpoints, parameters, specifications, and responses.\n'''\n\n# Remark\n\n'''   \n  ODB MHW API完整地定義在OAS(規格書)中，包括lon0, lat0, lon1, lat1, start, end, append等參數請參考。其中lon0, lat0為必要參數(required)。在此僅舉例說明其中一個參數`append`的意義，於規格書中列舉：\n    name: append\n    description:\n      Data fields to append, separated by commas. Allowed fields: 'sst', 'sst_anomaly', 'level', 'td'\n  說明了append這個參數，可以附加想要的資料變數(data fields)進去，而允許(allowed)的data fields則包括了\n  'sst', 'sst_anomaly', 'level', 'td'\n  這些資料變數儲存在 Zarr 資料集，而ODB MHW API去調用這個資料集，請參考doc_id: b7cea35aac3358af2e52d9f9079779bfdda0fee7\n  這4個資料變數分別對應 \n    * sst: 海水表面溫度 (SST) \n    * sst_anomaly: 海表溫距平值(異常值; SST anomalies)\n    * level: 海洋熱浪等級\n    * td: 海洋熱浪引起的熱位移(Thermal Displacement)\n  append 賦值的方式是用逗號(comma)分隔，比如'sst,sst_anomaly'，即是要求API要調用2個資料變數 sst 與 sst_anomaly，\n  如果只想調用海洋熱浪等級，便使用 append: 'level' (或在HTTP GET方法中query parameter加入 `&append=level`)，也因此，\n  append 給值的不同，會改變API調用哪些資料變數，因而也影響輸出的JSON欄位，比如\n  append: 'sst' 得到的JSON response裡面的 陣列元素(element)為\n  {\n    \"lon\": 135.125,\n    \"lat\": 15.125,\n    \"date\": \"2024-12-01\",\n    \"sst\": 29.0103206634522\n  },\n  但 append: 'sst,level' (額外調用了 SST 與海洋熱浪等級)，輸出的JSON response裡的陣列元素為\n  {\n    \"lon\": 135.125,\n    \"lat\": 15.125,\n    \"date\": \"2024-12-01\",\n    \"level\": 1,\n    \"sst\": 29.0103206634522\n  }\n  可以看到輸出多了\"level\": 1 這組key-value\n  參數補註：\n    * append 參數default值為'level'. 如果你在程式或瀏覽器不指定append參數，ODB MHW API會預設回傳海洋熱浪等級。\n    * 由於ODB MHW API使用HTTP GET method，因此很方便直接在瀏覽器中輸入server URL加上query parameters即可調用資料，\n      比如以剛才輸出 SST 與海洋熱浪等級為例，瀏覽器中輸入\n      https://eco.odb.ntu.edu.tw/api/mhw?lon0=135&lon1=150&lat0=15&lat1=30&start=2024-12-01&end=2025-06-01&append=sst,level\n      即可得到所需資料，非常方便。\n    * Minimum date for ODB MHW API is 1982-01-01, i.e. 'start' 參數的最小值（MHW資料最早的時間）為1982-01-01。\n  Note for Response format: ODB MHW API輸出的時間參數是'date', 若需要對時間畫圖，x-axis須選擇'date'.\n    * ODB MHW API output response format contains 'lon', 'lat', 'date' \n      (for spatial coordinates and temporal information), \n      and other data variable fields which determined by `append` parameter. \n\n  Note for CSV table data download request:\n    * 如果需要直接下載CSV資料使用 /api/mhw/csv endpoint. Example: \n      https://eco.odb.ntu.edu.tw/api/mhw/csv?lon0=135&lon1=150&lat0=15&lat1=30&start=2024-12-01&end=2025-06-01&append=sst,level\n       \n'''"},"links":[{"target_id":"api_get_api_mhw","link_type":"references","metadata":{"match_text":"/api/mhw"}},{"target_id":"api_get_api_mhw_csv","link_type":"references","metadata":{"match_text":"/api/mhw/csv"}}],"tags":["MHW","程式","SST","SST anomalies","Thermal Displacement","ODB","OpenAPI","Marine Heatwaves (MHW)","全球海洋熱浪","spec","資料"],"page_number":1,"chunk_index":0,"content_type":"metadata","text":"source_file: https://api.odb.ntu.edu.tw/hub/swagger?node=odb_mhw_v1\ndataset_name: marineheatwave\ncollection: mhw\ndoc_type: api_spec\ndoc_id: \"d971ef8bbc81997eae74ee0e555588a6526b0ea1\"\ntitle: ODB MHW API (OpenAPI Spec)\nlang: en\ndescription: Marine heatwaves OpenAPI specification (ODB)\ntags: [MHW, 程式, SST, \"SST anomalies\", \"Thermal Displacement\", ODB, OpenAPI, \"Marine Heatwaves (MHW)\", 全球海洋熱浪, spec, 資料]\ngrid: 0.25\ntimescale: monthly\nrelated_to:\n  - doc_id: [\"b7cea35aac3358af2e52d9f9079779bfdda0fee7\"]\n  - collection: \"mhw\"\npurpose: \"提供ODB MHW API OpenAPI specification (OAS)以規格說明 ODB MHW API 如何使用\"\nfaq: [\"如何使用 ODB MHW API?\", \"如何取得全球海洋熱浪資料?\", \"Call ODB MHW API endpoint to get timeseries data\", \"畫海溫趨勢變化\"]\ncontent: |\n  # Usage Note\n  '''\n    本文件提供 ODB MHW API (海洋熱浪開放應用程式介面) 的使用說明與規格 (Open API specification, OAS; Swagger documentation)，\n    回答如何以程式或瀏覽器調用全球海洋熱浪資料或以程式畫出海溫變化趨勢，或如何使用ODB MHW API問題(列於faq)時應優先引用。\n    以下API規格書以 OpenAPI 3.1 https://swagger.io/specification/ 標準描述，格式為YAML。包含詳細的API端點、參數、規格、與回應之描述。\n    This document provides the usage guide and specifications for the ODB MHW API (Application Programming Interface), \n    serving as the primary reference for programmatic or browser-based access to global MHW data (listed in faq).\n    The API specification follows the OpenAPI 3.1 standard (https://swagger.io/specification/), in YAML format, \n    with detailed descriptions of endpoints, parameters, specifications, and responses.\n  '''\n  \n  # Remark\n  \n  '''   \n    ODB MHW API完整地定義在OAS(規格書)中，包括lon0, lat0, lon1, lat1, start, end, append等參數請參考。其中lon0, lat0為必要參數(required)。在此僅舉例說明其中一個參數`append`的意義，於規格書中列舉：\n      name: append\n      description:\n        Data fields to append, separated by commas. Allowed fields: 'sst', 'sst_anomaly', 'level', 'td'\n    說明了append這個參數，可以附加想要的資料變數(data fields)進去，而允許(allowed)的data fields則包括了\n    'sst', 'sst_anomaly', 'level', 'td'\n    這些資料變數儲存在 Zarr 資料集，而ODB MHW API去調用這個資料集，請參考doc_id: b7cea35aac3358af2e52d9f9079779bfdda0fee7\n    這4個資料變數分別對應 \n      * sst: 海水表面溫度 (SST) \n      * sst_anomaly: 海表溫距平值(異常值; SST anomalies)\n      * level: 海洋熱浪等級\n      * td: 海洋熱浪引起的熱位移(Thermal Displacement)\n    append 賦值的方式是用逗號(comma)分隔，比如'sst,sst_anomaly'，即是要求API要調用2個資料變數 sst 與 sst_anomaly，\n    如果只想調用海洋熱浪等級，便使用 append: 'level' (或在HTTP GET方法中query parameter加入 `&append=level`)，也因此，\n    append 給值的不同，會改變API調用哪些資料變數，因而也影響輸出的JSON欄位，比如\n    append: 'sst' 得到的JSON response裡面的 陣列元素(element)為\n    {\n      \"lon\": 135.125,\n      \"lat\": 15.125,\n      \"date\": \"2024-12-01\",\n      \"sst\": 29.0103206634522\n    },\n    但 append: 'sst,level' (額外調用了 SST 與海洋熱浪等級)，輸出的JSON response裡的陣列元素為\n    {\n      \"lon\": 135.125,\n      \"lat\": 15.125,\n      \"date\": \"2024-12-01\",\n      \"level\": 1,\n      \"sst\": 29.0103206634522\n    }\n    可以看到輸出多了\"level\": 1 這組key-value\n    參數補註：\n      * append 參數default值為'level'. 如果你在程式或瀏覽器不指定append參數，ODB MHW API會預設回傳海洋熱浪等級。\n      * 由於ODB MHW API使用HTTP GET method，因此很方便直接在瀏覽器中輸入server URL加上query parameters即可調用資料，\n        比如以剛才輸出 SST 與海洋熱浪等級為例，瀏覽器中輸入\n        https://eco.odb.ntu.edu.tw/api/mhw?lon0=135&lon1=150&lat0=15&lat1=30&start=2024-12-01&end=2025-06-01&append=sst,level\n        即可得到所需資料，非常方便。\n      * Minimum date for ODB MHW API is 1982-01-01, i.e. 'start' 參數的最小值（MHW資料最早的時間）為1982-01-01。\n    Note for Response format: ODB MHW API輸出的時間參數是'date', 若需要對時間畫圖，x-axis須選擇'date'.\n      * ODB MHW API output response format contains 'lon', 'lat', 'date' \n        (for spatial coordinates and temporal information), \n        and other data variable fields which determined by `append` parameter. \n\n    Note for CSV table data download request:\n      * 如果需要直接下載CSV資料使用 /api/mhw/csv endpoint. Example: \n        https://eco.odb.ntu.edu.tw/api/mhw/csv?lon0=135&lon1=150&lat0=15&lat1=30&start=2024-12-01&end=2025-06-01&append=sst,level\n         \n  '''"}]}